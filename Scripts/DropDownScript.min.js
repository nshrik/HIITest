function DropDownScript(t, i, e, n, s, c, h) { this.id = t, this.divPstfx = i, this.selectPstfx = e, this.postbackFunction = n, this.useButtons = s, this.autoPost = c, this.useSelectAll = h, this.divId = this.id + this.divPstfx, this.selId = this.id + this.selectPstfx, this.selection = new Array, this.visible = !1, this.preventHide = !1, this.initialized = !1 } !function (t) { t.fn.hitch = function (t, i, e) { return this.bind(t, function () { return i.apply(e || this, Array.prototype.slice.call(arguments)) }) } }(jQuery), jQuery.expr[":"].contains = function (t, i, e) { return jQuery(t).text().toUpperCase().indexOf(e[3].toUpperCase()) >= 0 }, DropDownScript.prototype.update = function (t, i, e, n, s, c) { this.divPstfx = t, this.selectPstfx = i, this.postbackFunction = e, this.useButtons = n, this.autoPost = s, this.useSelectAll = c, this.divId = this.id + this.divPstfx, this.selId = this.id + this.selectPstfx, this.initEvents() }, DropDownScript.prototype.init = function () { var t = this; if ("undefined" != typeof Sys) try { Sys.WebForms.PageRequestManager.getInstance().add_endRequest(function (i, e) { t.initEvents() }) } catch (i) { } this.initEventHandlers(), this.initEvents(), this.initialized = !0 }, DropDownScript.prototype.initEventHandlers = function () { this.documentClickHandler = function () { !this.preventHide && this.visible && (this.useButtons ? this.clickCancel() : this.autoPost ? this.clickOk() : this.hide()), this.preventHide = !1 }, this.divClickHandler = function (t) { t.stopPropagation() }, this.selectBoxClickHandler = function (t) { this.visible ? this.hide() : (this.show(), this.preventHide = !0) }, this.selectAllClickHandler = function (t) { this.useSelectAll && (t.target.checked ? this.selectAll() : this.deselectAll()) }, this.searchTextHandler = function (t) { this.SearchText() }, this.checkBoxClickHandler = function (t) { this.updateSelectAll() }, this.okClickHandler = function (t) { this.clickOk(), t.stopPropagation() }, this.cancelHandler = function (t) { this.clickCancel(), t.stopPropagation() } }, DropDownScript.prototype.initEvents = function () { this.initialized || $(document).hitch("click", this.documentClickHandler, this); var t = $("#" + this.divId); t.unbind("click.chk_dd"), t.hitch("click.chk_dd", this.divClickHandler, this); var i = $("#" + this.selId); i.unbind("click.chk_dd"), i.hitch("click.chk_dd", this.selectBoxClickHandler, this); var e = $("#" + this.divId + " input[type='checkbox']:first"); e.unbind("click.chk_dd"), this.useSelectAll && e.hitch("click.chk_dd", this.selectAllClickHandler, this); var n = this.getItems(); n.unbind("click.chk_dd"), n.hitch("click.chk_dd", this.checkBoxClickHandler, this); var s = $("#" + this.divId + " input[type='button']:first"); s.unbind("click.chk_dd"), s.hitch("click.chk_dd", this.okClickHandler, this); var c = $("#" + this.divId + " input[type='button']:gt(0)"); c.unbind("click.chk_dd"), c.hitch("click.chk_dd", this.cancelHandler, this); var h = $("#" + this.divId + " input[type='text']"); h.unbind("keyup"), h.hitch("keyup", this.searchTextHandler, this) }, DropDownScript.prototype.clickOk = function () { this.hide(), this.saveSelection(), this.doPostBack() }, DropDownScript.prototype.clickCancel = function () { this.hide(), this.restoreSelection() }, DropDownScript.prototype.getItems = function () { return $("#" + this.id + " input[type='checkbox']") }, DropDownScript.prototype.SearchText = function () { var t = $("#" + this.divId + " input[type='text']"), i = $(t).attr("for"), e = $(t).parent().parent().find("span[id$='" + $(t).attr("for") + "']").prev(), n = $(e).find("label").attr("for"); $(e).find("label").show(), $(e).find("input[name$='" + n + "']").show(), $(e).find("input[name$='" + n + "']").prev().show(), "" != $(t).val() && ($(e).find("label").hide(), $(e).find("input[name$='" + n + "']").hide(), $(e).find("input[name$='" + n + "']").prev().hide()), $(t).parent().parent().find("span[id$='" + i + "'] label").show(), $(t).parent().parent().find("span[id$='" + i + "'] input").show(), $(t).parent().parent().find("span[id$='" + i + "'] br").show(), "" != $(t).val() && $(t).parent().parent().find("span[id$='" + i + "'] label:not(:contains('" + $(t).val() + "'))").each(function () { var t = $(this).attr("for"); $("input[id$='" + t + "']").hide(), $(this).next().hide(), $(this).hide() }) }, DropDownScript.prototype.show = function () { $("#" + this.divId).show(), this.visible = !0, this.saveSelection(), this.updateSelectAll() }, DropDownScript.prototype.hide = function () { $("#" + this.divId).hide(), this.visible = !1 }, DropDownScript.prototype.updateSelectAll = function () { if (this.useSelectAll) { for (var t = !0, i = this.getItems(), e = 0; e < i.length; e++) if (0 == i[e].checked) { t = !1; break } $("#" + this.divId + " input[type='checkbox']:first").prop("checked", t) } }, DropDownScript.prototype.selectAll = function () { this.getItems().prop("checked", !0) }, DropDownScript.prototype.deselectAll = function () { this.getItems().prop("checked", !1) }, DropDownScript.prototype.saveSelection = function () { for (var t = this.getItems(), i = 0; i < t.length; i++) this.selection[i] = t[i].checked ? !0 : !1 }, DropDownScript.prototype.restoreSelection = function () { var t = this.getItems(); if (this.selection.length > 0) for (var i = 0; i < t.length; i++) t[i].checked = this.selection[i] }, DropDownScript.prototype.doPostBack = function () { this.postbackFunction && this.postbackFunction.call() };